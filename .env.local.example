# ==============================================
# Family Workout App - Environment Variables
# ==============================================
# Copy this file to .env.local and fill in the values

# ==============================================
# DATABASE (Required)
# ==============================================
# Primary database connection (Neon Postgres with connection pooling)
DATABASE_URL=postgresql://user:password@host/database?sslmode=require

# Read replica for read-heavy operations (optional, falls back to DATABASE_URL)
DATABASE_READ_URL=

# Unpooled connection for migrations (optional, falls back to DATABASE_URL)
DATABASE_URL_UNPOOLED=

# ==============================================
# AUTHENTICATION (Required)
# ==============================================
# NextAuth secret - generate with: openssl rand -base64 32
AUTH_SECRET=generate-a-random-string-here

# Public URL for NextAuth callbacks
AUTH_URL=http://localhost:3000

# ==============================================
# APPLICATION (Required)
# ==============================================
# Public app URL used for invite links, emails, etc.
NEXT_PUBLIC_APP_URL=http://localhost:3000

# ==============================================
# AI / OPENAI (Required for AI features)
# ==============================================
# OpenAI API key for AI-powered features
OPENAI_API_KEY=sk-...

# AI model configuration (optional - uses defaults if not set)
# AI_MODEL_PRIMARY=gpt-5.2
# AI_MODEL_PRO=gpt-5.2-pro
# AI_MODEL_FAST=gpt-5.2-chat-latest

# AI timeout configuration in milliseconds (optional)
# AI_TIMEOUT_NONE=30000
# AI_TIMEOUT_QUICK=45000
# AI_TIMEOUT_STANDARD=90000
# AI_TIMEOUT_DEEP=120000
# AI_TIMEOUT_MAX=180000
# AI_STREAM_STALL_TIMEOUT=10000
# AI_MAX_REQUEST_TIMEOUT=180000

# AI cache TTL in seconds (optional)
# AI_CACHE_TTL_WORKOUT_PLAN=3600
# AI_CACHE_TTL_WORKOUT_GENERATION=3600
# AI_CACHE_TTL_EXERCISE_RECS=1800
# AI_CACHE_TTL_COACHING=7200
# AI_CACHE_TTL_MILESTONES=86400
# AI_CACHE_TTL_CONTEXT=3600
# AI_CACHE_TTL_MEMBER_CONTEXT=30
# AI_CACHE_TTL_MEMBER_NAME=300

# AI rate limiting (requests per window)
# AI_RATE_LIMIT_CHAT=30
# AI_RATE_LIMIT_GENERATION=10
# AI_RATE_LIMIT_RECOMMENDATIONS=20

# AI feature flags (set to "false" to disable)
# AI_FEATURE_EXTENDED_CACHE=true
# AI_FEATURE_CONVERSATION_STATE=true
# AI_FEATURE_SEMANTIC_TOOLS=true
# AI_FEATURE_DEEP_THINKING=true

# AI context limits
# AI_MAX_CONTEXT_TOKENS=128000
# AI_SEMANTIC_TOKEN_BUDGET=4000
# AI_MINUTES_PER_EXERCISE=8
# AI_MEMORY_CACHE_SIZE=500

# ==============================================
# FILE STORAGE (Required for uploads)
# ==============================================
# Vercel Blob storage token
BLOB_READ_WRITE_TOKEN=

# ==============================================
# PUSH NOTIFICATIONS (Optional)
# ==============================================
# Generate VAPID keys with: npx web-push generate-vapid-keys
NEXT_PUBLIC_VAPID_PUBLIC_KEY=
VAPID_PRIVATE_KEY=
VAPID_SUBJECT=mailto:support@example.com

# ==============================================
# REDIS (Optional - for distributed rate limiting)
# ==============================================
# Upstash Redis REST API
UPSTASH_REDIS_REST_URL=
UPSTASH_REDIS_REST_TOKEN=

# ==============================================
# CRON JOBS (Required for scheduled tasks in production)
# ==============================================
# Secret to authenticate cron requests
CRON_SECRET=

# ==============================================
# LOGGING (Optional)
# ==============================================
# Log level: debug | info | warn | error
LOG_LEVEL=info

# ==============================================
# TESTING (Optional - for test scripts)
# ==============================================
# TEST_API_URL=http://localhost:3000
# TEST_AUTH_COOKIE=
# TEST_MEMBER_ID=
# TEST_URL=http://localhost:3000

# ==============================================
# ERROR TRACKING - SENTRY (Recommended)
# ==============================================
# Get these from https://sentry.io - Free tier: 5K errors/month
SENTRY_DSN=
NEXT_PUBLIC_SENTRY_DSN=
SENTRY_ORG=
SENTRY_PROJECT=
# Auth token for source map uploads (optional but recommended)
SENTRY_AUTH_TOKEN=

# ==============================================
# ANALYTICS & FEATURE FLAGS - POSTHOG (Recommended)
# ==============================================
# Get these from https://posthog.com - Free tier: 1M events/month
NEXT_PUBLIC_POSTHOG_KEY=
NEXT_PUBLIC_POSTHOG_HOST=https://us.i.posthog.com
# Server-side API key (for backend events)
POSTHOG_API_KEY=

# ==============================================
# PAYMENTS - STRIPE (Required for monetization)
# ==============================================
# Get these from https://stripe.com - No monthly fee, only transaction fees
STRIPE_SECRET_KEY=
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=
# Webhook signing secret for /api/webhooks/stripe
STRIPE_WEBHOOK_SECRET=
# Product/Price IDs (create in Stripe Dashboard)
STRIPE_PRICE_MONTHLY=
STRIPE_PRICE_YEARLY=

# ==============================================
# UPTIME MONITORING - BETTERSTACK (Optional)
# ==============================================
# Get from https://betterstack.com - Free tier: 10 monitors
BETTERSTACK_API_KEY=

# ==============================================
# MAPS - GOOGLE MAPS PLATFORM (Required for location features)
# ==============================================
# Get from https://console.cloud.google.com/apis/credentials
# Enable: Maps JavaScript API, Places API (New), Geocoding API, Maps Static API
NEXT_PUBLIC_GOOGLE_MAPS_API_KEY=
